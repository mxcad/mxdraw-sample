import {
  MxDbShape
} from "./chunk-56B5D36D.js";
import {
  McEdGetPointWorldDrawObject,
  MrxDbgUiPrPoint,
  MxFun_default,
  addRegisterMxDbEntity,
  computeRegularPolygonVertices
} from "./chunk-EEK3ULSO.js";

// ../../../../../web/MxCADOnline/MxDrawPlugin/mxdraw-sample/uniapp/node_modules/mxdraw/dist/lib/MxModule/MxDbRegularPolygon/draw.js
function drawMxDbRegularPolygon() {
  const r = new MrxDbgUiPrPoint(), t = MxFun_default.getCurrentDraw(), e = new McEdGetPointWorldDrawObject(), o = new MxDbRegularPolygon_default();
  r.setMessage("\n点击开始绘制多边形:"), r.go(() => {
    let n = prompt("请输入多边形的边数", "8");
    n && (o.sidesNumber = Number(n), o.centerPoint = r.value(), r.setUserDraw(e), e.setDraw((r2) => {
      o.otherPoint = r2, e.drawCustomEntity(o);
    }), r.setMessage("\n再次点击结束绘制多边形:"), r.go(() => {
      t.addMxEntity(o);
    }));
  });
}

// ../../../../../web/MxCADOnline/MxDrawPlugin/mxdraw-sample/uniapp/node_modules/mxdraw/dist/lib/MxModule/MxDbRegularPolygon/index.js
var MxDbRegularPolygon = class extends MxDbShape {
  constructor() {
    super(), this.centerPoint = new THREE.Vector3(), this.otherPoint = new THREE.Vector3(), this.sidesNumber = 5, this._propertyDbKeys = [...this._propertyDbKeys, "centerPoint", "otherPoint", "sidesNumber"];
  }
  getTypeName() {
    return "MxDbRegularPolygon";
  }
  worldDraw(t) {
    const e = computeRegularPolygonVertices(this.centerPoint, this.otherPoint, this.sidesNumber);
    this.closed = false, e.push(e[0]), this._draw(t, e), this._drawStoreLine(t, e);
  }
  getGripPoints() {
    return [this.centerPoint, this.otherPoint];
  }
  moveGripPointsAt(t, e) {
    return 0 === t ? (this.centerPoint.add(e), this.otherPoint.add(e)) : 1 === t && this.otherPoint.add(e), true;
  }
};
MxDbRegularPolygon.cmd = "Mx_RegularPolygon", MxDbRegularPolygon.draw = drawMxDbRegularPolygon, addRegisterMxDbEntity(MxDbRegularPolygon);
var MxDbRegularPolygon_default = MxDbRegularPolygon;

export {
  MxDbRegularPolygon_default
};
//# sourceMappingURL=chunk-ZNGTMRZ5.js.map
