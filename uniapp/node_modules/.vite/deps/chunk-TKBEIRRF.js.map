{
  "version": 3,
  "sources": ["../../mxdraw/dist/lib/MxModule/MxDbCircleShape/index.js", "../../mxdraw/dist/lib/MxModule/Mx3PointArc/draw.js", "../../mxdraw/dist/lib/MxModule/Mx3PointArc/index.js"],
  "sourcesContent": ["import MxDbEllipseShape from\"../MxDbEllipseShape\";export default class MxDbCircleShape extends MxDbEllipseShape{getTypeName(){return\"MxDbCircleShape\"}get radius(){return this.xRadius}set radius(s){this.xRadius=s,this.yRadius=s}setRadius(s){return this.radius=s,this}setXRadius(s){return this.setRadius(s),this}setYRadius(s){return this.setRadius(s),this}};", "import{createThreePointArc}from\"../../tools/three\";import Mx3PointArc from\".\";import McEdGetPointWorldDrawObject from\"../McEdGetPointWorldDrawObject\";import MrxDbgUiPrBaseReturn from\"../MrxDbgUiPrBaseReturn\";import MrxDbgUiPrPoint from\"../MrxDbgUiPrPoint\";import MxFun from\"../MxFun\";export default function drawMx3PointArc(){const r=new MrxDbgUiPrPoint,t=new McEdGetPointWorldDrawObject,e=new Mx3PointArc;e.closed=!1,e.setColor(\"#ff0000\").setLineWidth(10),r.setUserDraw(t),r.setMessage(\"\\n确定圆弧开始点:\"),r.go(o=>{o===MrxDbgUiPrBaseReturn.kOk&&(e.point1=r.value(),t.setDraw(r=>{t.drawLine(e.point1,r)})),r.setMessage(\"\\n确定圆弧结束点:\"),r.go(o=>{o===MrxDbgUiPrBaseReturn.kOk&&(e.point2=r.value(),t.setDraw(r=>{e.point3=r,t.drawCustomEntity(e)})),r.setMessage(\"\\n确定圆弧上任意一点:\"),r.go(r=>{if(r===MrxDbgUiPrBaseReturn.kOk){MxFun.getCurrentDraw().addMxEntity(e);const{radius:r,angle:t,arcLength:o}=createThreePointArc(e.point1,e.point2,e.point3,!0);console.log(\"半径:\",r),console.log(\"圆弧圆心角度:\",t),console.log(\"圆弧弧长:\",o)}})})})};", "import{addRegisterMxDbEntity}from\"../../tools/registerMxDbEntity\";import{calculateArcAngle,calculateArcOrigin,calculateRadiusArc,judgementArcRenderDirection}from\"../../tools/three\";import MxDbCircleShape from\"../MxDbCircleShape\";import drawMx3PointArc from\"./draw\";class Mx3PointArc extends MxDbCircleShape{constructor(){super(),this.point1=new THREE.Vector3,this.point2=new THREE.Vector3,this.point3=new THREE.Vector3,this.autoClockwise=!0,this._propertyDbKeys=[...this._propertyDbKeys,\"point1\",\"point2\",\"point3\",\"autoClockwise\"]}getTypeName(){return\"Mx3PointArc\"}create(){return new Mx3PointArc}worldDraw(t){let{point1:i,point2:e,point3:r}=this;this.upDateCenter(i,e,r),this.upDateRadius(i);const[n,o,s]=this.compute3PointAngle();this.upDataClockwise(n,o,s),this.startAngle=THREE.MathUtils.degToRad(n),this.endAngle=THREE.MathUtils.degToRad(o),this.drawEllipseShape(t)}getGripPoints(){return[this.point1,this.point2,this.point3,this.center]}compute3PointAngle(){const{point1:t,point2:i,point3:e}=this,r=calculateArcAngle(t,this.center,this.radius),n=calculateArcAngle(i,this.center,this.radius),o=calculateArcAngle(e,this.center,this.radius);return[r.angle,n.angle,o.angle]}upDateCenter(t,i,e){return this.center=calculateArcOrigin(t,i,e),this.center}upDateRadius(t){return this.radius=calculateRadiusArc(t,this.center),this.radius}upDataClockwise(t,i,e){const{autoClockwise:r}=this;r&&(this.clockwise=judgementArcRenderDirection(i,t,e))}moveGripPointsAt(t,i){return 0===t?this.point1.add(i):1===t?this.point2.add(i):2===t?this.point3.add(i):3===t&&(this.point1.add(i),this.point2.add(i),this.point3.add(i)),this.upDateCenter(this.point1,this.point2,this.point3),!0}}Mx3PointArc.cmd=\"Mx_3PointArc\",Mx3PointArc.draw=drawMx3PointArc,addRegisterMxDbEntity(Mx3PointArc);export default Mx3PointArc;"],
  "mappings": "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",
  "names": ["r", "o", "t"]
}
