import MxDbPolyline from".";import McEdGetPointWorldDrawObject from"../McEdGetPointWorldDrawObject";import MrxDbgUiPrPoint from"../MrxDbgUiPrPoint";import MxFun from"../MxFun";export default function drawMxDbPolyline(){const e=new MrxDbgUiPrPoint;e.setMessage("\n指定第一点:");let t,r=new MxDbPolyline;e.go(o=>{if(0!=o)return;let n=e.value();t||(t=n.clone());let s=n;const i=new McEdGetPointWorldDrawObject;i.setDraw((e,t)=>{t.setColor(16711680),t.drawLine(s,e),t.drawCustomEntity(r)}),e.setUserDraw(i),e.setMessage("\n指定下一点:");let d=0;r.addVertexAt(n),e.goWhile(t=>{if(0==t)s=e.value(),r.addVertexAt(s),++d>=2?(e.setMessage("\n指定下一点:"),e.setKeyWords("[闭合(C)/放弃(U)]")):d>0?(e.setMessage("\n指定下一点:"),e.setKeyWords("[放弃(U)]")):(e.setMessage("\n指定第一点:"),e.setKeyWords(""));else if(1==t){if(e.isKeyWordPicked("C"))return{exit:!0};e.isKeyWordPicked("U")&&console.log("Mx_Line undo....")}},()=>{MxFun.getCurrentDraw().addMxEntity(r)})})};