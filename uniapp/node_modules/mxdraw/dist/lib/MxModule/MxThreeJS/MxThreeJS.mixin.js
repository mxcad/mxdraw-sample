import{setGeometrPostion}from"../../tools/three";import store from"../store";export default function MxThreeJSMixin(e){return e.createImage=function(t,r,o,n,a){if(!a)return new Promise((a,i)=>{e.createImage.call(this,t,r,o,n,e=>a(e))});(new THREE.TextureLoader).load(n,function(e){let n=new THREE.PlaneGeometry(r,o),i=new THREE.MeshLambertMaterial({map:e,transparent:!0,side:THREE.DoubleSide});i.map&&(i.map.needsUpdate=!0),setGeometrPostion(n,t);let s=new THREE.Mesh(n,i);s.material.depthTest=!1,a&&a(s)},void 0,function(e){console.log(e),a&&a(null)})},e.loadSVG=function(e,t,r,o){return r?(store.state.MxFun.loadSVG(e,t,r,o),new Promise(e=>{e(null)})):new Promise(r=>{store.state.MxFun.loadSVG(e,t,e=>{r(e)},o)})},e.clacTextSize=((e,t)=>store.state.MxFun.getMxThreeJS().clacTextSize(e,t)),e.clacTextSpriteSize=((e,t,r)=>store.state.MxFun.getMxThreeJS().clacTextSpriteSize(e,t,r)),e.creatTextSprite=((e,t,r,o,n)=>store.state.MxFun.getMxThreeJS().creatTextSprite(e,t,r,o,n)),e};